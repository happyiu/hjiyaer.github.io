<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">react | å’¦~è¢«ä½ å‘ç°å’¯</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * é‚®ç®±ä¿¡æ¯ä¹‹ç±»çš„ä¸œè¥¿å¯ä»¥å¡«åœ¨è¿™é‡Œï¼Œè¿™äº›jså˜é‡åŸºæœ¬éƒ½ä½œç”¨äºsakura-app.js
   * è¿™æ ·çš„è®¾ç½®ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿åœ¨åŸºäºPHPå¼€å‘çš„ä¸»é¢˜ä¸­è®¾ç½®jså˜é‡ï¼Œæ—¢ç„¶ç§»æ¤åˆ°äº†Nodeä¸Šï¼Œæˆ‘æƒ³æˆ–è®¸å¯ä»¥ç²¾ç®€è¿™ä¸€é€»è¾‘å§
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "çŒ«ã«ãªã‚ŠãŸã„ã®æ˜æ˜å°±";
  mashiro_option.author_name = "æ˜æ˜å°±";
  mashiro_option.site_url = "https://sakura.hjiya.cn";
  mashiro_option.v_appId = "f6vhjKWXELjVUi3uwwvtSSGp-gzGzoHsz";
  mashiro_option.v_appKey = "L73UnjoOqFSxdieIWQjqxycw";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "http://blogpic.hjiya.cn/3.webp,http://blogpic.hjiya.cn/1.webp".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('æœ‹å‹ï¼ŒIEæµè§ˆå™¨æœªé€‚é…å“¦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://sakura.hjiya.cn">
          <img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/custom/avatar.jpg">
        </a>
      </div>
      <div class="header-info">
        <p>å¯’æ±Ÿå­¤å½± æ±Ÿæ¹–æ•…äºº ç›¸é€¢ä½•å¿…æ›¾ç›¸è¯†</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="https://github.com/happyiu" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/social/github.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://music.163.com/#/user/home?id=289149324" target="_blank" class="social-github" title="ç½‘æ˜“äº‘">
                    <img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/social/wangyiyun.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://wpa.qq.com/msgrd?v=3&amp;uin=910785329&amp;site=qq&amp;menu=yes" target="_blank" class="social-github" title="QQ">
                    <img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/social/qq.png">
                  </a>
                </li>
              
            
              
                <li class="wechat">
                  <a href="/#">
                    <img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/social/wechat.png">
                  </a>
                  <div class="wechatInner">
                    <img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/custom/wechat.jpg">
                  </div>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">çŒ«ã«ãªã‚ŠãŸã„ã®</span>
            <span class="shironeko">æ˜æ˜å°±</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    é¦–é¡µ
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    å½’æ¡£
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/æŠ€æœ¯/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          æŠ€æœ¯
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/ç”Ÿæ´»/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          ç”Ÿæ´»
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/èµ„æº/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          èµ„æº
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/éšæƒ³/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          éšæƒ³
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/è½¬è½½/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          è½¬è½½
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    æ ‡ç­¾
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/tags/æ‚¦è¯»/">
                          <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                          æ–‡ç« 
                        </a>
                      </li>
                    
                      <li>
                        <a href="/bangumi/">
                          <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                          ç•ªç»„
                        </a>
                      </li>
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          æ­Œå•
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/å›¾é›†/">
                          <i class="fa fa-photo" aria-hidden="true"></i>
                          å›¾é›†
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    ç•™è¨€æ¿
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/links/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    å‹äººå¸
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/donate/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
                    èµèµ
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/about/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-meetup" aria-hidden="true"></i>
                    æˆ‘ï¼Ÿ
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- æœ‰é…å›¾é»˜è®¤æ¸²æŸ“ç¬¬ä¸€å¼  -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/happyiu/cdn@master/img/startdash/react.png);" src="http://blogpic.hjiya.cn/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master/img/startdash/react.png">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      react</h1>
      <p class="entry-census">
        <span>
          <a href="">
            <img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master/img/custom/avatar.jpg">
          </a>
        </span>
        <span>
          <a href="">æ˜æ˜å°± ğŸŒ¸</a>
        </span>
        <span class="bull">
        Â·</span>
        2020-3-26<span class="bull">
        Â·</span>
      <span id="busuanzi_value_page_pv"></span>æ¬¡é˜…è¯»</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- å¥—åµŒç›®å½•ä½¿ç”¨ï¼ˆä¸»è¦ä¸ºäº†æ”¯æ´è¯„è®ºï¼‰-->
        
        <div class="entry-content">
          <h1 id="React-å…¥é—¨ç¬”è®°"><a href="#React-å…¥é—¨ç¬”è®°" class="headerlink" title="React å…¥é—¨ç¬”è®°"></a>React å…¥é—¨ç¬”è®°</h1><h2 id="React-åº”ç”¨åˆ›å»ºæ–¹æ³•"><a href="#React-åº”ç”¨åˆ›å»ºæ–¹æ³•" class="headerlink" title="React åº”ç”¨åˆ›å»ºæ–¹æ³•"></a>React åº”ç”¨åˆ›å»ºæ–¹æ³•</h2><p>ä½¿ç”¨ create react app è„šæ‰‹æ¶å‘½ä»¤å¿«é€Ÿåˆ›å»º Reactåº”ç”¨</p>
<pre><code class="shell">npx create-react-app name
</code></pre>
<h2 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h2><p>åœ¨ index.js ä¸­æ¸²æŸ“ä¸Šé¡µé¢çš„æ ¸å¿ƒä»£ç </p>
<pre><code class="js">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;

// åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„Reactå…ƒç´ 
const app = &lt;h1&gt;Welcome React&lt;/h1&gt;

ReactDOM.render(
  app,
  document.querySelector(&#39;#root&#39;)
)
</code></pre>
<h2 id="åˆ›å»ºç»„ä»¶"><a href="#åˆ›å»ºç»„ä»¶" class="headerlink" title="åˆ›å»ºç»„ä»¶"></a>åˆ›å»ºç»„ä»¶</h2><h3 id="ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶"><a href="#ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶" class="headerlink" title="ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶"></a>ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶</h3><pre><code class="js">const App = (props) =&gt; {
  return (
    &lt;div&gt;
      &lt;h1&gt;welcome {props.title}&lt;/h1&gt;
    &lt;/div&gt;
  )
}

ReactDOM.render(
  &lt;App title=&quot;1901&quot;/&gt;,
  document.querySelector(&#39;#root&#39;)
)
</code></pre>
<h3 id="Classç±»åˆ›å»ºç»„ä»¶"><a href="#Classç±»åˆ›å»ºç»„ä»¶" class="headerlink" title="Classç±»åˆ›å»ºç»„ä»¶"></a>Classç±»åˆ›å»ºç»„ä»¶</h3><pre><code class="js">import React from &#39;react&#39;
import {render} from &#39;react-dom&#39;

// å®šä¹‰ç»„ä»¶çš„ç¬¬äºŒç§æ–¹å¼ --&gt; ç±»
class App extends React.Component {
  render(){
    return (
      &lt;div&gt;
        &lt;h1&gt;Welcome React {this.props.title}&lt;/h1&gt;       
      &lt;/div&gt;
    )
  }
};

render(
  &lt;App title=&#39;2019&#39;/&gt;,
  document.querySelector(&#39;#root&#39;)
);

// åº•å±‚åŸç†
// &lt;App title=&quot;2019&quot; /&gt;  ç¼–è¯‘æˆä»¥ä¸‹ä»£ç 

// const app = new App({
//   title: &quot;2019&quot;
// }).render()
</code></pre>
<h2 id="jsx-åŸç†"><a href="#jsx-åŸç†" class="headerlink" title="jsx åŸç†"></a>jsx åŸç†</h2><p>è™šæ‹ŸDOMæ ‘æ–¹å¼</p>
<p>React.createElemet(type,[props],[â€¦children]) æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ›å»ºå…ƒç´ ï¼Œå‚æ•°ï¼šï¼ˆæ ‡ç­¾åï¼Œæ ‡ç­¾å±æ€§ï¼Œå­å…ƒç´ â€¦ï¼‰</p>
<pre><code class="js">// class App extends Component {
//   render(){
//     return (
//       &lt;div&gt;
//         &lt;h1&gt;Welcome React&lt;/h1&gt;       
//       &lt;/div&gt;
//     )
//   }
// }
// åº•å±‚ç¼–è¯‘ä¸º ä»¥ä¸‹æ–¹å¼
class App extends Component {
  render(){
    return (
      React.createElement(
        &#39;div&#39;,
        {
          className: &#39;dv1&#39;,
          id: &#39;appRoot&#39;
        },
        React.createElement(
          &#39;h1&#39;,
          {
            className: &#39;title&#39;,
          },
          &#39;Welcome React&#39;
        )
      )
    )
  }
}
</code></pre>
<h2 id="æ ·å¼ç±»åçš„ç»‘å®š"><a href="#æ ·å¼ç±»åçš„ç»‘å®š" class="headerlink" title="æ ·å¼ç±»åçš„ç»‘å®š"></a>æ ·å¼ç±»åçš„ç»‘å®š</h2><ul>
<li>å†…è”æ ·å¼åˆ›å»º</li>
<li>ä½¿ç”¨ styled-components æ’ä»¶ å®šä¹‰æ ·å¼ç»„ä»¶ï¼Œå†ä½¿ç”¨æ ·å¼ç»„ä»¶åŒ…è£¹</li>
<li>ä½¿ç”¨ className çš„æ–¹æ³•ç›´æ¥æ·»åŠ  ç±»å</li>
<li>ä½¿ç”¨ classnames æ’ä»¶ï¼ŒåŠ¨æ€æ·»åŠ  ç±»å</li>
</ul>
<pre><code class="js">// å®šä¹‰æ ·å¼ç»„ä»¶
const Title = styled.h1`
  color: red
`
const Header = () =&gt; &lt;h1&gt;hi&lt;/h1&gt;
// å®šä¹‰ç»„ä»¶çš„ç¬¬äºŒç§æ–¹å¼ --&gt; ç±»
class App extends Component {
  render(){
    // ä½¿ç”¨å†…è”æ ·å¼åˆ›å»º
    const style = {color: &quot;red&quot;}
    return (
      &lt;div&gt;
        &lt;Header /&gt;
        &lt;h1 style={style}&gt;Welcome React {this.props.title}&lt;/h1&gt;   
        {/* ä½¿ç”¨ className æ–¹å¼  æ³¨æ„è¿™é‡Œæ ·å¼ç±»åéœ€è¦ className è€Œä¸æ˜¯ class */}
        &lt;h1 className=&quot;has-test-pink&quot;&gt;Welcome React {this.props.title} 2&lt;/h1&gt; 
        {/* ä½¿ç”¨ classnames æ’ä»¶ ç»‘å®šåŠ¨æ€æ ·å¼ */}
        &lt;h1 className={classNames(&#39;a&#39;,{&#39;has-test-pink&#39;: true})}&gt;Welcome React {this.props.title} 3&lt;/h1&gt;
        {/* ä½¿ç”¨å®šä¹‰å¥½çš„æ ·å¼ç»„ä»¶  */}
        &lt;Title className={classNames(&#39;a&#39;,{&#39;has-test-pink&#39;: true})}&gt;Welcome React {this.props.title} 4&lt;/Title&gt; 

      &lt;/div&gt;
    )
  }
}
</code></pre>
<h2 id="å‘å­ç»„ä»¶ä¼ å€¼åšç±»å‹æ£€æŸ¥"><a href="#å‘å­ç»„ä»¶ä¼ å€¼åšç±»å‹æ£€æŸ¥" class="headerlink" title="å‘å­ç»„ä»¶ä¼ å€¼åšç±»å‹æ£€æŸ¥"></a>å‘å­ç»„ä»¶ä¼ å€¼åšç±»å‹æ£€æŸ¥</h2><p>prop-types </p>
<ul>
<li><p>å‡½æ•°ç»„ä»¶çš„ç±»å‹æ£€æŸ¥æ–¹æ³•</p>
<pre><code class="html">&lt;TodoHeader title=&quot;ä»£åŠäº‹é¡¹&quot; x={1} y={2}&gt;
hi
&lt;/TodoHeader&gt;
</code></pre>
<pre><code class="js">TodoHeader.propTypes = {
title: PropTypes.string,
x: PropTypes.number.isRequired,   // è¿™é‡Œå¯ä»¥é“¾å¼æ“ä½œ
y: PropTypes.number,
}
</code></pre>
</li>
<li><p>ç±»ç»„ä»¶çš„ç±»å‹æ£€æŸ¥æ–¹æ³•</p>
<pre><code class="html">&lt;TodoInput btnText=&quot;æ·»åŠ å§&quot;/&gt;
</code></pre>
<pre><code class="js">export default class TodoInput extends Component {
// é™æ€å±æ€§
static propTypes = {
  btnText: PropTypes.string
}
render() {
  return (
    &lt;div&gt;
      &lt;input /&gt;&lt;button&gt;{this.props.btnText}&lt;/button&gt;
    &lt;/div&gt;
  )
}
}
</code></pre>
</li>
</ul>
<h2 id="å­ç»„ä»¶ä¼ å‚è®¾ç½®é»˜è®¤å€¼"><a href="#å­ç»„ä»¶ä¼ å‚è®¾ç½®é»˜è®¤å€¼" class="headerlink" title="å­ç»„ä»¶ä¼ å‚è®¾ç½®é»˜è®¤å€¼"></a>å­ç»„ä»¶ä¼ å‚è®¾ç½®é»˜è®¤å€¼</h2><ul>
<li>å‡½æ•°ç»„ä»¶è®¾ç½®é»˜è®¤å€¼<pre><code class="js">TodoHeader.defaultProps = {
title: &#39;Welcome&#39;
}
</code></pre>
</li>
<li>ç±»ç»„ä»¶è®¾ç½®é»˜è®¤å€¼<pre><code class="js">export default class TodoInput extends Component {
static propTypes = {
  btnText: PropTypes.string
}
static defaultProps = {
  btnText: &#39;æ·»åŠ &#39;
}
render() {
  return (
    &lt;div&gt;
      &lt;input /&gt;&lt;button&gt;{this.props.btnText}&lt;/button&gt;
    &lt;/div&gt;
  )
}
}
</code></pre>
</li>
</ul>
<h2 id="ç»„ä»¶è‡ªå·±çš„æ•°æ®çŠ¶æ€"><a href="#ç»„ä»¶è‡ªå·±çš„æ•°æ®çŠ¶æ€" class="headerlink" title="ç»„ä»¶è‡ªå·±çš„æ•°æ®çŠ¶æ€"></a>ç»„ä»¶è‡ªå·±çš„æ•°æ®çŠ¶æ€</h2><p>class ç±»ç»„ä»¶ -æœ‰çŠ¶æ€ç»„ä»¶<br>function å‡½æ•°ç»„ä»¶ -æ— çŠ¶æ€ç»„ä»¶ï¼ˆHookæœ‰è§£å†³åŠæ³•ï¼‰</p>
<p>ä½¿ç”¨ this.state.name æ¥è·å–æ•°æ®</p>
<p><code>state</code> åªæœ‰ classç±»ç»„ä»¶æ‰ä¼šæœ‰</p>
<pre><code class="js">export default class App extends Component {
  // æ–¹æ³•ä¸€
  // state = {
  //   title: &#39;ä»£åŠäº‹é¡¹App&#39;
  // }
  // æ–¹æ³•äºŒ
  constructor(){
    super()
    this.state = {
      title: &#39;å¾…åŠäº‹é¡¹App&#39;
    }
  }
  render() {
    return (
      &lt;Fragment&gt;
        &lt;TodoHeader title={this.state.title} x={1} y={2}&gt;
          hi
        &lt;/TodoHeader&gt;
        &lt;TodoInput btnText=&quot;æ·»åŠ å§&quot;/&gt;
        &lt;TodoList /&gt;
        {this.state.title}
      &lt;/Fragment&gt;
    )
  }
}

</code></pre>
<h2 id="æ¸²æŸ“æ•°æ®"><a href="#æ¸²æŸ“æ•°æ®" class="headerlink" title="æ¸²æŸ“æ•°æ®"></a>æ¸²æŸ“æ•°æ®</h2><ul>
<li>ç›´æ¥æ¸²æŸ“<pre><code class="js">{this.state.name}
</code></pre>
</li>
<li><p>htmlæ–‡æœ¬æ¸²æŸ“(Vueä¸­çš„v-html)</p>
<pre><code class="js">&lt;div dangerouslySetInnerHTML={{__html: this.state.htxt}} /&gt;
</code></pre>
</li>
<li><p>åˆ—è¡¨æ¸²æŸ“</p>
<pre><code class="js">this.props.todos.map(item=&gt;{
return (
  &lt;TodoItem key={item.id} {...item} /&gt;
)
})
</code></pre>
</li>
</ul>
<h2 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h2><p>ä½¿ç”¨ <code>this.setState()</code> çš„æ–¹æ³•æ¥ä¿®æ”¹æ•°æ®</p>
<p>this.setState() éœ€è¦ä¸¤ä¸ªå‚æ•° </p>
<h3 id="ç¬¬ä¸€ä¸ªå‚æ•°åˆæœ‰ä¸¤ç§æƒ…å†µ"><a href="#ç¬¬ä¸€ä¸ªå‚æ•°åˆæœ‰ä¸¤ç§æƒ…å†µ" class="headerlink" title="ç¬¬ä¸€ä¸ªå‚æ•°åˆæœ‰ä¸¤ç§æƒ…å†µ"></a>ç¬¬ä¸€ä¸ªå‚æ•°åˆæœ‰ä¸¤ç§æƒ…å†µ</h3><p>ç¬¬ä¸€ç§æƒ…å†µæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼š</p>
<pre><code class="js">handleLikeClick = () =&gt; {
  // éœ€è¦ä½¿ç”¨ setState ä¿®æ”¹æ•°æ®
  this.setState({
    isLike: !this.state.isLike
  })
}
</code></pre>
<p>ç¬¬äºŒç§æƒ…å†µæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼š æ–¹æ³•ä¸­æœ‰ä¸ªå‚æ•°ï¼Œä¿å­˜ç€ä¿®æ”¹æ•°æ®å‰çš„æ•°æ®</p>
<pre><code class="js">this.setState((prev)=&gt;{
  console.log(prev)
  return {
    isLike: !this.state.isLike
  }
})
</code></pre>
<h3 id="ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¥è·å–æœ€æ–°çš„æ•°æ®çŠ¶æ€"><a href="#ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¥è·å–æœ€æ–°çš„æ•°æ®çŠ¶æ€" class="headerlink" title="ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¥è·å–æœ€æ–°çš„æ•°æ®çŠ¶æ€"></a>ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¥è·å–æœ€æ–°çš„æ•°æ®çŠ¶æ€</h3><pre><code class="js">this.setState((prev)=&gt;{
  console.log(prev)
  return {
    isLike: !this.state.isLike
  }
},()=&gt;{
  console.log(this.state.isLike)
})
</code></pre>
<h3 id="setState-ç‰¹æ€§"><a href="#setState-ç‰¹æ€§" class="headerlink" title="setState ç‰¹æ€§"></a>setState ç‰¹æ€§</h3><ul>
<li><p>setStateæ˜¯å¼‚æ­¥æ“ä½œ</p>
</li>
<li><p>â½¤setStateæ›´æ–°çŠ¶æ€â½½ä¸èƒ½ç›´æ¥ä¿®æ”¹</p>
<pre><code class="js">this.state.counter += 1; //é”™è¯¯çš„
</code></pre>
</li>
<li><p>ä¸”setStateæ˜¯æ‰¹é‡æ‰§è¡Œçš„ï¼Œå› æ­¤å¯¹åŒä¸€ä¸ªçŠ¶æ€æ‰§è¡Œå¤šæ¬¡åªèµ·ä¸€æ¬¡ä½œç”¨ï¼Œå¤šä¸ªçŠ¶æ€æ›´æ–°å¯ä»¥æ”¾åœ¨åŒä¸€ä¸ªsetStateä¸­è¿›è¡Œ</p>
<pre><code class="js">componentDidMount(){
this.setState({counter: this.state.counter + 1});   
this.setState({counter: this.state.counter + 1});   
this.setState({counter: this.state.counter + 1});
}
// æœ€å Counterçš„å€¼ä¸º 1
</code></pre>
</li>
</ul>
<p>ï¼ˆsetStateåªæœ‰åœ¨åˆæˆäº‹ä»¶å’Œé’©â¼¦å­å‡½æ•°ä¸­æ˜¯å¼‚æ­¥çš„ï¼Œåœ¨åŸç”Ÿäº‹ä»¶å’ŒsetTimeoutã€setIntervalä¸­éƒ½æ˜¯åŒæ­¥çš„ï¼‰</p>
<p>ä½¿å…¶åŒæ­¥çš„æ–¹æ³•</p>
<p>ç¬¬ä¸€ç§æ–¹æ³• å¦‚ä¸Šthis.setState() ä¼ å…¥å›è°ƒå‡½æ•°</p>
<p>ç¬¬äºŒç§æ–¹æ³•å°±æ˜¯åŸç”Ÿäº‹ä»¶ </p>
<pre><code class="js">componentDidMount(){
  document.getElementsByTagName(&#39;button&#39;)[0].addEventListener(&#39;click&#39;, () =&gt; {
    this.setState({
      counter: this.state.counter + 2
    })
  })
}
</code></pre>
<p>ç¬¬ä¸‰ç§å°±æ˜¯å®šæ—¶å™¨</p>
<pre><code class="js">handleLikeClick = () =&gt; {
  setTimeout(() =&gt; {
    this.setState({
      counter: this.state.counter + 1
    })
  }, 0);
}
</code></pre>
<h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><p>onClickï¼ŒonChangeâ€¦.</p>
<ul>
<li><p>æ–¹æ³•ä¸€</p>
<pre><code class="html">&lt;input onChange={this.handleInputChange} type=&quot;text&quot; value={this.state.inputValue}/&gt;
</code></pre>
<pre><code class="js">handleInputChange = (e)=&gt; {
this.setState({
  inputValue: e.currentTarget.value
})
}
</code></pre>
</li>
<li><p>æ–¹æ³•äºŒï¼šå¯ä»¥ä¼ é€’å‚æ•°</p>
<pre><code class="html">&lt;button onClick={this.handleClick.bind(this,123)}&gt;{this.props.btnText}&lt;/button&gt;
</code></pre>
<pre><code class="js">handleClick(num){
console.log(this.state.inputValue,num)
}
</code></pre>
</li>
</ul>
<h2 id="äº‹ä»¶ä¼ å‚"><a href="#äº‹ä»¶ä¼ å‚" class="headerlink" title="äº‹ä»¶ä¼ å‚"></a>äº‹ä»¶ä¼ å‚</h2><ul>
<li><p>å¤–é¢å†åŒ…å±‚åŒ¿åå‡½æ•°ï¼Œå› ä¸ºä½¿ç”¨è¿™ç§äº‹ä»¶æ˜¯åŒ¿åå‡½æ•°ï¼Œæ¸²æŸ“çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œæ‰€ä»¥å¤–é¢å†åŠ å±‚åŒ¿åå‡½æ•°</p>
<pre><code class="html">&lt;button onClick={() =&gt; {
this.handleBtnClick(123)
}}&gt;äº‹ä»¶ä¼ å‚&lt;/button&gt;
</code></pre>
</li>
<li><p>ä½¿ç”¨.bind(this,å‚æ•°åˆ—è¡¨)</p>
</li>
</ul>
<h2 id="hook-é’©å­å‡½æ•°"><a href="#hook-é’©å­å‡½æ•°" class="headerlink" title="hook é’©å­å‡½æ•°"></a>hook é’©å­å‡½æ•°</h2><p>hook é’©å­å‡½æ•°å¯ä»¥ä½¿ å‡½æ•°ç»„ä»¶ä¹Ÿèƒ½æ‹¥æœ‰ ç±»ç»„ä»¶ä¸­è‡ªå·±çš„çŠ¶æ€å’Œå…¶ä»–ç‰¹æ€§</p>
<pre><code class="js">// éœ€è¦å¯¼å…¥ useState useEffect hookæ¥å®Œæˆæ“ä½œ
import React, { useState, useEffect } from &#39;react&#39;

export default function User() {
  // const date = new Date()
  const [date, setDate] = useState(new Date())  // ä¸€ä¸ªå˜é‡å®šä¹‰ä¸€æ¬¡

  useEffect(() =&gt; {
    const timeid = setInterval(() =&gt; {
      setDate(new Date())
    }, 1000)
    return () =&gt; clearInterval(timeid)
  })
  return (
    &lt;div&gt;
      &lt;h1&gt;{date.toLocaleTimeString()}&lt;/h1&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h2 id="ç»„ä»¶é€šè®¯"><a href="#ç»„ä»¶é€šè®¯" class="headerlink" title="ç»„ä»¶é€šè®¯"></a>ç»„ä»¶é€šè®¯</h2><h3 id="props"><a href="#props" class="headerlink" title="props"></a>props</h3><pre><code class="js">// çˆ¶ç»„ä»¶
&lt;Search store={store} title=&quot;props&quot; tellme={tellme} /&gt;

// å­ç»„ä»¶
// this.props.title  this.props.tellme çš„å½¢å¼æ¥æ¥æ”¶


</code></pre>
<h3 id="createContext-æ˜¯-react-æä¾›çš„è·¨ç»„ä»¶çš„æ–¹æ³•"><a href="#createContext-æ˜¯-react-æä¾›çš„è·¨ç»„ä»¶çš„æ–¹æ³•" class="headerlink" title="createContext æ˜¯ react æä¾›çš„è·¨ç»„ä»¶çš„æ–¹æ³•"></a>createContext æ˜¯ react æä¾›çš„è·¨ç»„ä»¶çš„æ–¹æ³•</h3><p>createContext è¿™ä¸ªæ–¹æ³•çš„ç»“æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢æœ‰2ä¸ªç»„ä»¶ï¼ŒProviderå’ŒConsumer</p>
<p>Provider ç”¨äºæä¾›çŠ¶æ€</p>
<p>Consumer ç”¨äºæ¥æ”¶çŠ¶æ€</p>
<pre><code class="js">// æƒ³è§£æ„å‡ºæ¥
const {
  Provider,
  Consumer:CounterConsumer    
} = createContext()

class CounterProvider extends Component {
  constructor(){
    super()
    // è¿™é‡Œçš„çŠ¶æ€æ˜¯å…±äº«çš„ï¼Œä»»ä½•CounterProviderçš„å­å­™ç»„ä»¶ï¼Œéƒ½å¯ä»¥ä½¿ç”¨CounterConsumeræ¥æ¥æ”¶
    this.state = {
      count: 100
    }
  }
  // è¿™é‡Œçš„æ–¹æ³•ä¹Ÿä¼šç»§ç»­é€šè¿‡Providerå…±äº«ä¸‹å»
  incrementCount = () =&gt; {
    this.setState({
      count: this.state.count + 1
    })
  }
  decrementCount = () =&gt; {
    this.setState({
      count: this.state.count - 1
    })
  }
  render(){
    return (
      // ä½¿ç”¨ Provider è¿™ä¸ªç»„ä»¶ ï¼Œå¿…é¡»æœ‰ä¸ªvalueå€¼ï¼Œè¿™ä¸ªValueä¸­ç§‘é™¢ä¼ é€’ä»»ä½•çš„æ•°æ®ï¼Œä¸€èˆ¬ä¼ é€’ä¸€ä¸ªå¯¹è±¡
      &lt;Provider value={{count: this.state.count,
      onIncrementCount: this.incrementCount,
      onDecrementCount:this.decrementCount}}&gt;
        {this.props.children}
      &lt;/Provider&gt;
    )
  }
}

// å®šä¹‰çš„å­å­™ç»„ä»¶ï¼Œä½¿ç”¨ CounterConsumer æ¥æ¥æ”¶count 
class Counter extends Component {
  render(){
    return (
      &lt;CounterConsumer&gt;
        {
          //æ³¨æ„ï¼Œè¿™é‡Œçš„CounterConsumeråŒ…è£¹ç€çš„å¿…é¡»æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œ
          //å‚æ•°æ˜¯Provideræä¾›çš„Value
          ({count}) =&gt; {
            return &lt;span&gt;{count}&lt;/span&gt;
          }
        }
      &lt;/CounterConsumer&gt;
    )
  }
}
</code></pre>
<h2 id="HOC-é«˜é˜¶ç»„ä»¶-Height-order-component"><a href="#HOC-é«˜é˜¶ç»„ä»¶-Height-order-component" class="headerlink" title="HOC é«˜é˜¶ç»„ä»¶ Height-order component"></a>HOC é«˜é˜¶ç»„ä»¶ Height-order component</h2><p>å¯ä»¥åŠ«æŒé¡µé¢æ¸²æŸ“</p>
<pre><code class="js">// App.js
import React, { Component } from &#39;react&#39;
// å¯¼å…¥ é«˜é˜¶ç»„ä»¶
import witCopyright from &#39;./witCopyright&#39;

class App extends Component {
  render(){
    return (
      &lt;div&gt;
        &lt;h1&gt;h&lt;/h1&gt;   
      &lt;/div&gt;
    )
  }
}

// ä½¿ç”¨é«˜é˜¶ç»„ä»¶ï¼Œå¹¶å°† App ç»„ä»¶ ä½œä¸ºå‚æ•°ä¼ å…¥
export default witCopyright(App)
</code></pre>
<pre><code class="js">// é«˜é˜¶ç»„ä»¶ witCopyright.js
import React, { Component } from &#39;react&#39;

const witCopyright = (YourComponent) =&gt; {
  return class witCopyright extends Component {
    render() {
      return (
        &lt;&gt;
          è¿™é‡Œå°±æ˜¯ åˆšæ‰ä¼ å…¥å‡½æ•°ï¼Œå°†å…¶ä½¿ç”¨
          è¿™é‡Œæ³¨æ„ è¦ä½¿ç”¨ {...this.props} æ›´æ”¹ props
          &lt;YourComponent {...this.props}/&gt;
          &lt;div&gt;&amp;copy; 2019 &amp;emsp; é»„å³å‘€&lt;/div&gt;

        &lt;/&gt;
      )
    }
  }
}

export default witCopyright
</code></pre>
<h2 id="ä½¿ç”¨è£…é¥°å™¨-è£…é¥°é«˜é˜¶ç»„ä»¶çš„å†™æ³•"><a href="#ä½¿ç”¨è£…é¥°å™¨-è£…é¥°é«˜é˜¶ç»„ä»¶çš„å†™æ³•" class="headerlink" title="ä½¿ç”¨è£…é¥°å™¨ è£…é¥°é«˜é˜¶ç»„ä»¶çš„å†™æ³•"></a>ä½¿ç”¨è£…é¥°å™¨ è£…é¥°é«˜é˜¶ç»„ä»¶çš„å†™æ³•</h2><p>å®‰è£…åŒ…</p>
<p>ç¬¬ä¸€æ­¥</p>
<blockquote>
<p>npm i react-app-rewired â€“sava-dev</p>
</blockquote>
<p>ç„¶åä¿®æ”¹ page.json æ–‡ä»¶ï¼Œä¿®æ”¹ä¸º react-app-rewired</p>
<pre><code class="js">&quot;scripts&quot;: {
  &quot;start&quot;: &quot;react-app-rewired start&quot;,
  &quot;build&quot;: &quot;react-app-rewired build&quot;,
  &quot;test&quot;: &quot;react-app-rewired test&quot;,
  &quot;eject&quot;: &quot;react-scripts eject&quot;
}
</code></pre>
<p>ç„¶åå† é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª config-overrides.js å³å¯</p>
<pre><code class="js">// config-overrides.js
module.exports = (config) =&gt; {
  // åœ¨è¿™é‡Œå¯ä»¥å¯¹ config è¿›è¡Œé…ç½®
  return config
}
</code></pre>
<p>ç¬¬äºŒæ­¥ å®‰è£… customize-cra æ¥æ–¹ä¾¿å®šä¹‰é…ç½®é¡¹</p>
<blockquote>
<p>npm i customize-cra â€“sava-dev</p>
</blockquote>
<p>ä¿®æ”¹ config-overrides.js</p>
<pre><code class="js">const {override,addDecoratorsLegacy} = require(&#39;customize-cra&#39;)
module.exports = override(
  addDecoratorsLegacy()
)
</code></pre>
<blockquote>
<p>npm i @babel/plugin-proposal-decorators -D</p>
</blockquote>
<h2 id="çŠ¶æ€ç®¡ç†-redux-æ‰‹åŠ¨è¿æ¥"><a href="#çŠ¶æ€ç®¡ç†-redux-æ‰‹åŠ¨è¿æ¥" class="headerlink" title="çŠ¶æ€ç®¡ç† redux æ‰‹åŠ¨è¿æ¥"></a>çŠ¶æ€ç®¡ç† redux æ‰‹åŠ¨è¿æ¥</h2><h3 id="æ‰‹åŠ¨å®ç°-redux-çŠ¶æ€ç®¡ç†"><a href="#æ‰‹åŠ¨å®ç°-redux-çŠ¶æ€ç®¡ç†" class="headerlink" title="æ‰‹åŠ¨å®ç° redux çŠ¶æ€ç®¡ç†"></a>æ‰‹åŠ¨å®ç° redux çŠ¶æ€ç®¡ç†</h3><p>ç®€å•çš„reduxçš„å®ç° ï¼Œ è¯¦æƒ…è§ redux-pronciple-2.html</p>
<pre><code class="js">    const countState = {
      count: 5
    }

    const changeState = (state,action) =&gt; {
      if(!state){
        return countState
      }
      switch(action.type){
        default: 
          return state;
        case &quot;JIAN&quot;: 
          return {
            ...state,
            count: state.count - action.n
          }
          break;
        case &quot;JIA&quot;:
        return {
            ...state,
            count: state.count + action.n
          }
      }
    }

    const createStore = (reducer) =&gt; {
      let state = null
      const getState = () =&gt; state
      const Listeners = []
      const subScribe = (Listener) =&gt; Listeners.push(Listener)
      const dispatch = (action) =&gt; {
        state = changeState(state,action)
        Listeners.forEach(listener =&gt; listener())
      }
      dispatch({})
      return {
        getState,
        dispatch,
        subScribe
      }
    }

    const store = createStore(changeState)

    const renderCount = () =&gt; {
      countDisplay.innerHTML = store.getState().count
    }

    renderCount()
    store.subScribe(renderCount)
</code></pre>
<h3 id="ä½¿ç”¨-redux"><a href="#ä½¿ç”¨-redux" class="headerlink" title="ä½¿ç”¨ redux"></a>ä½¿ç”¨ redux</h3><ul>
<li>é¦–å…ˆåœ¨ srcç›®å½•ä¸‹æ–°å»º 2ä¸ª æ–‡ä»¶å¤¹<ul>
<li>reducers</li>
<li>actions</li>
</ul>
</li>
<li>ç„¶ååœ¨ src ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼šstore.js<br><code>`</code>js<br>import { createStore } from â€˜reduxâ€™<br>// å¯¼å…¥ reducers<br>import rootReducer from â€˜./reducersâ€™</li>
</ul>
<p>export default createStore(rootReducer)</p>
<pre><code>- åœ¨reducersæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª car.js å¹¶å¯¼å‡º
```js
const initState = []

export default (state = initState,action) =&gt; {
  switch(action.type){
    default: 
      return state
  }
}
</code></pre><ul>
<li>åœ¨reducersæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª index.js æ–‡ä»¶ç”¨æ¥åˆå¹¶å¯¼å‡ºreducersä¸­çš„å…¶ä»–æ–‡ä»¶<br><code>`</code>js<br>// ç”¨äºåˆå¹¶å¤šä¸ª reducers<br>import { combineReducers} from â€˜reduxâ€™<br>import car from â€˜./carâ€™</li>
</ul>
<p>export default combineReducers({<br>  car<br>})</p>
<pre><code>
`......å¤ªç—›è‹¦äº†......`

## çŠ¶æ€ç®¡ç† React-redux è‡ªåŠ¨è¿æ¥

- åˆ›å»º reducers
- åˆå¹¶ reducers
- createStore
- Provider store = { store }
- connect(mapStateToProps,{...actionCreators})(YourComponent)
- actionCreators
- ä¿®æ”¹reducers

### é¦–å…ˆåˆ›å»º reducers æ–‡ä»¶ç›®å½•ä¸‹çš„ reduceråˆ†ç±»æ–‡ä»¶
```js
// æœªæ¥é¿å… actionType é‡å¤ï¼Œä¸€èˆ¬ä¼šæŠŠactionæ”¾åœ¨æ–‡ä»¶é‡Œï¼Œç»Ÿä¸€ç®¡ç†
import actionType from &#39;../actions/actionType&#39;

// å¯¹äº è´­ç‰©è½¦ æ¥è¯´ï¼Œè¿™é‡Œæœ‰ä¸ªåˆå§‹åŒ–çš„çŠ¶æ€
const initState = [
  {
    id: 1,
    title: &#39;Apple&#39;,
    price: 999,
    amount: 10
  },
  {
    id: 2,
    title: &#39;Orange&#39;,
    price: 99,
    amount: 6
  }
]

// åˆ›å»º è´­ç‰©è½¦çš„ reducer ï¼Œæ˜¯ä¸ªçº¯å‡½æ•°ï¼Œreducerçš„å›ºå®šå†™æ³• ä¸¤ä¸ªå‚æ•°
// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ stateå¹¶æœ‰ä¸€ä¸ªåˆå§‹å€¼
// ç¬¬äºŒä¸ªå‚æ•°æ˜¯ action
export default (state = initState,action) =&gt; {
  // æ ¹æ®ä¸åŒçš„ action æ¥å¤„ç†ä¸åŒçš„ç»“æœï¼Œæ¯æ¬¡è¿”å›æ–°çš„stateï¼Œè¿”å›çš„ç±»å‹è¦ä¸€æ ·
  switch(action.type){
    // ä¸€å®šè¦æœ‰default ï¼Œå½“actionType ä¸å¯¹æ—¶å€™ï¼Œå°±ä¸åšä»»ä½•å¤„ç†ï¼Œè¿”å›ä¸Šä¸€æ¬¡çš„state
    default: 
      return state;
    case actionType.CAR_AMOUNT_INCREMENT:
      return state.map(item =&gt; {
        if(item.id === action.payload.id){
          item.amount += 1
        }
        return item
      })
      case actionType.CAR_AMOUNT_DECREMENT:
      return state.map(item =&gt; {
        if(item.id === action.payload.id){
          item.amount -= 1
        }
        return item
      })
  }
}
</code></pre><h3 id="reducersç›®å½•ä¸‹åˆ›å»º-index-js-åˆå¹¶å¤šä¸ª-reducer-å¹¶å¯¼å‡º"><a href="#reducersç›®å½•ä¸‹åˆ›å»º-index-js-åˆå¹¶å¤šä¸ª-reducer-å¹¶å¯¼å‡º" class="headerlink" title="reducersç›®å½•ä¸‹åˆ›å»º index.js åˆå¹¶å¤šä¸ª reducer å¹¶å¯¼å‡º"></a>reducersç›®å½•ä¸‹åˆ›å»º index.js åˆå¹¶å¤šä¸ª reducer å¹¶å¯¼å‡º</h3><p>ç”±äºåœ¨å®é™…ä¸­ï¼Œåªæœ‰å•ä¸€çš„store,ä½†æ˜¯çŠ¶æ€ä¼šæœ‰å¾ˆå¤šåˆ†ç±»ï¼Œå› æ­¤éœ€è¦åˆ’åˆ†reducerï¼Œä½†createStore() å‚æ•°åªæ¥å—ä¸€ä¸ªreducerï¼Œæ‰€ä»¥reduxæä¾›äº†ä¸€ä¸ªåˆå¹¶å¤šä¸ªreducerçš„æ–¹æ³•ï¼šcombineReducers</p>
<pre><code class="js">// ç”¨äºåˆå¹¶å¤šä¸ª reducers
import { combineReducers} from &#39;redux&#39;

// å¼•å…¥ car reducerï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œç»§ç»­å¼•å…¥
import car from &#39;./car&#39;

// å¯¼å‡ºåˆå¹¶åçš„ reducer
export default combineReducers({
  // æŠŠå¤šä¸ª reducerä½œä¸º combineReducers å‚æ•°å¯¹è±¡ ä¼ å…¥ï¼Œåœ¨å¤–éƒ¨å°±å¯ä»¥é€šè¿‡ store.getState().car æ¥è·å–åˆ° carReduceré‡Œé¢çš„state
  car
})
</code></pre>
<h3 id="åˆ›å»º-Action-ç›®å½•ï¼Œç„¶ååˆ›å»ºç‰¹å®šçš„-car-js"><a href="#åˆ›å»º-Action-ç›®å½•ï¼Œç„¶ååˆ›å»ºç‰¹å®šçš„-car-js" class="headerlink" title="åˆ›å»º Action ç›®å½•ï¼Œç„¶ååˆ›å»ºç‰¹å®šçš„ car.js"></a>åˆ›å»º Action ç›®å½•ï¼Œç„¶ååˆ›å»ºç‰¹å®šçš„ car.js</h3><pre><code class="js">import actionType from &#39;./actionType&#39;

// action æœ‰ä¸¤ç§å†™æ³•
// ä¸€ï¼šå†™æˆä¸€ä¸ªå¯¹è±¡ï¼Œç¼ºç‚¹ä¸å¥½ä¼ é€’å‚æ•°
// export const increment = {
//   type: actionType.CAR_AMOUNT_INCREMENT
// }
// äºŒï¼šå†™æˆä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ‰æ˜¯çœŸæ­£çš„action
export const increment = (id) =&gt; {
  return {
    type: actionType.CAR_AMOUNT_INCREMENT,
    payload:{
      id
    }
  }
}

export const decrement = (id) =&gt; {
  return {
    type: actionType.CAR_AMOUNT_DECREMENT,
    payload:{
      id
    }
  }
}
</code></pre>
<h3 id="åœ¨Actionç›®å½•ä¸‹åˆ›å»º-actionType-æ¥ç»Ÿä¸€ç®¡ç†-action"><a href="#åœ¨Actionç›®å½•ä¸‹åˆ›å»º-actionType-æ¥ç»Ÿä¸€ç®¡ç†-action" class="headerlink" title="åœ¨Actionç›®å½•ä¸‹åˆ›å»º actionType æ¥ç»Ÿä¸€ç®¡ç† action"></a>åœ¨Actionç›®å½•ä¸‹åˆ›å»º actionType æ¥ç»Ÿä¸€ç®¡ç† action</h3><pre><code class="js">export default {
  CAR_AMOUNT_INCREMENT: &#39;CAR_AMOUNT_INCREMENT&#39;,
  CAR_AMOUNT_DECREMENT: &#39;CAR_AMOUNT_DECREMENT&#39;,
}
</code></pre>
<h3 id="åˆ›å»º-store-js"><a href="#åˆ›å»º-store-js" class="headerlink" title="åˆ›å»º store.js"></a>åˆ›å»º store.js</h3><pre><code class="js">// createStore æ˜¯ reduxç”¨æ¥åˆ›å»ºstoreçš„æ–¹æ³•
import { createStore } from &#39;redux&#39;
// å¼•å…¥åˆå¹¶åçš„ reducer
import rootReducer from &#39;./reducers&#39;
// createStore(rootReducer) ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ ä¸€ä¸ªreducer
export default createStore(rootReducer)
</code></pre>
<h3 id="æœ€åä½¿ç”¨æ”¾åœ¨åº”ç”¨ç¨‹åºæœ€é¡¶å±‚ï¼Œä¸”å¿…é¡»æœ‰-store-å±æ€§"><a href="#æœ€åä½¿ç”¨æ”¾åœ¨åº”ç”¨ç¨‹åºæœ€é¡¶å±‚ï¼Œä¸”å¿…é¡»æœ‰-store-å±æ€§" class="headerlink" title="æœ€åä½¿ç”¨æ”¾åœ¨åº”ç”¨ç¨‹åºæœ€é¡¶å±‚ï¼Œä¸”å¿…é¡»æœ‰ store å±æ€§"></a>æœ€åä½¿ç”¨<producer></producer>æ”¾åœ¨åº”ç”¨ç¨‹åºæœ€é¡¶å±‚ï¼Œä¸”å¿…é¡»æœ‰ store å±æ€§</h3><pre><code class="js">import React from &#39;react&#39;
import {render} from &#39;react-dom&#39;
import App from &#39;./App&#39;
import store from &#39;./store&#39;

// Rrovier æ˜¯ react-redux æä¾›çš„ä¸€ä¸ªç»„ä»¶
import { Provider } from &#39;react-redux&#39;

render(
  // è¿™ä¸ªstore çš„å€¼ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€åˆ›å»ºçš„ store
  // åªè¦è¢« Producer åŒ…è£¹çš„ç»„ä»¶ï¼Œæ‰€æœ‰çš„åä»£ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨Redux.connectåšè¿æ¥
  &lt;Provider store={store}&gt;
    &lt;App /&gt;
  &lt;/Provider&gt;,
  document.querySelector(&quot;#root&quot;)
)
</code></pre>
<h3 id="å­ç»„ä»¶è¿æ¥è·å–æ•°æ®"><a href="#å­ç»„ä»¶è¿æ¥è·å–æ•°æ®" class="headerlink" title="å­ç»„ä»¶è¿æ¥è·å–æ•°æ®"></a>å­ç»„ä»¶è¿æ¥è·å–æ•°æ®</h3><pre><code class="js">import React, { Component } from &#39;react&#39;
// å¯¼å…¥ actionCreators
import { increment,decrement } from &#39;../../actions/car&#39;
// connect æ‰§è¡Œåæ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶
import { connect } from &#39;react-redux&#39;

class CarList extends Component {
  render() {
    return (
      &lt;table&gt;
        &lt;tbody&gt;
          {
            this.props.carList.map(item =&gt; {
              return (
                &lt;tr key={item.id}&gt;
                  &lt;td&gt;{item.id}&lt;/td&gt;  
                  &lt;td&gt;{item.title}&lt;/td&gt;
                  &lt;td&gt;{item.price}&lt;/td&gt;
                  &lt;td&gt;
                    &lt;button onClick={()=&gt;{
                      this.props.dispatch(decrement(item.id))
                    }}&gt;-&lt;/button&gt;
                    &lt;span&gt;{item.amount}&lt;/span&gt;
                    &lt;button onClick={()=&gt;{
                      this.props.dispatch(increment(item.id))
                    }}&gt;+&lt;/button&gt;
                  &lt;/td&gt;
                  &lt;td&gt;&lt;/td&gt;
                &lt;/tr&gt;
              )
            })
          }
        &lt;/tbody&gt;
      &lt;/table&gt;
    )
  }
}

// è¿™é‡Œçš„ state å®é™…ä¸Šå°±æ˜¯ store.getState()çš„å€¼
const mapStateToProps = (state) =&gt; {
  // è¿™é‡Œreturnäº†ä»€ä¹ˆï¼Œç»„ä»¶ä¸­å°±å¯ä»¥this.propsæ¥è·å–
  return {
    carList: state.car
  }
}
// connectæ–¹æ³•å¸¸ç”¨çš„å‚æ•°
// ç¬¬ä¸€ä¸ªå‚æ•°ï¼š mapStateToProps ä½œç”¨å°±æ˜¯ä»storeé‡ŒæŠŠstateæ³¨å…¥åˆ°å½“å‰ç»„ä»¶props
// ç¬¬äºŒä¸ªå‚æ•°ï¼šå¯ä»¥æ˜¯mapDisPatchPropsï¼Œè¿™ä¸ªä¸»è¦ä½œç”¨å°±æ˜¯å°†actionç”Ÿæˆçš„æ–¹æ³•æ³¨å…¥åˆ°å•ç­¾ç»„ä»¶çš„props

// ç›´æ¥ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„å¯¹è±¡å°±æ˜¯actionCratorsï¼Œåªè¦ä¼ å…¥äº†ï¼Œåœ¨ç»„ä»¶ä¸­å°±å¯ä»¥é€šè¿‡this.props.actionCreatoræ¥è°ƒç”¨
export default connect(mapStateToProps)(CarList)
</code></pre>
<h2 id="redux-å¤„ç†-å¼‚æ­¥æ“ä½œ-éœ€è¦ä¸€ä¸ªä¸­é—´ä»¶å¤„ç†"><a href="#redux-å¤„ç†-å¼‚æ­¥æ“ä½œ-éœ€è¦ä¸€ä¸ªä¸­é—´ä»¶å¤„ç†" class="headerlink" title="redux å¤„ç† å¼‚æ­¥æ“ä½œ éœ€è¦ä¸€ä¸ªä¸­é—´ä»¶å¤„ç†"></a>redux å¤„ç† å¼‚æ­¥æ“ä½œ éœ€è¦ä¸€ä¸ªä¸­é—´ä»¶å¤„ç†</h2><blockquote>
<p>npm install redux-thunk</p>
</blockquote>
<ul>
<li><p>å…ˆåœ¨ store ä¸­ä¼ å…¥applyMiddleware(thunk)</p>
<pre><code class="js">export default createStore(rootReducer,applyMiddleware(thunk))
</code></pre>
</li>
<li><p>ç„¶ååœ¨ actions ä¸­å¯¼å‡ºä»¥ä¸‹ä»£ç </p>
<pre><code class="js">export const decrementAsync = id =&gt; dispatch =&gt; {
setTimeout(() =&gt; {
  dispatch(decrement(id))
}, 1000);
}
</code></pre>
</li>
</ul>
<h2 id="è·¯ç”±-React-Router"><a href="#è·¯ç”±-React-Router" class="headerlink" title="è·¯ç”± React Router"></a>è·¯ç”± React Router</h2><h3 id="ç®€å•åŒ¹é…"><a href="#ç®€å•åŒ¹é…" class="headerlink" title="ç®€å•åŒ¹é…"></a>ç®€å•åŒ¹é…</h3><p>Web ä¸Šå®‰è£…åªéœ€è¦å®‰è£…è¿™ä¸€ä¸ªå°±å¯ä»¥äº†</p>
<blockquote>
<p>npm i react-router-dom -s</p>
</blockquote>
<p>åªéœ€è¦åœ¨æœ€é¡¶å±‚ä½¿ç”¨ä¸€æ¬¡Routerå°±å¯ä»¥äº†<br>Router åªéœ€è¦åœ¨æœ€é¡¶çº§ä½¿ç”¨ä¸€æ¬¡å°±å¯ä»¥äº†</p>
<pre><code class="js">import React from &#39;react&#39;
import {render} from &#39;react-dom&#39;
import App from &#39;./App&#39;
// å°† BrowserRouter é‡å‘½åä¸º Router ï¼Œæ–¹ä¾¿è°ƒç”¨
// HashRouter and BrowserRouter å¯ä»¥é€‰æ‹© è·¯ç”±æ¨¡å¼
// Route ç»„ä»¶ç›¸å½“äº Vueä¸­ çš„ &lt;router-view&gt;&lt;/router-view&gt;
import { BrowserRouter as  Router,Route } from &#39;react-router-dom&#39;

render(
  // æœ€é¡¶å±‚åªéœ€ä½¿ç”¨ Router åŒ…è£¹ä¸€æ¬¡å°±å¯ä»¥äº†
  &lt;Router&gt;
    ä½¿ç”¨ Routeç»„ä»¶ æ¥æ¸²æŸ“ç»„ä»¶
    &lt;Route component={App}/&gt;
  &lt;/Router&gt;,
  document.querySelector(&quot;#root&quot;)
)
</code></pre>
<h3 id="è·¯ç”±è·³è½¬"><a href="#è·¯ç”±è·³è½¬" class="headerlink" title="è·¯ç”±è·³è½¬"></a>è·¯ç”±è·³è½¬</h3><pre><code class="js">import React, { Component } from &#39;react&#39;
// è·¯ç”±è·³è½¬éœ€è¦ä½¿ç”¨åˆ° Link ç»„ä»¶ï¼Œç›¸å½“äºVueä¸­çš„,&lt;router-link&gt;&lt;/router-link&gt;
// NavLink ä½œç”¨å’Œ Link ä½œç”¨å·®ä¸å¤šï¼Œä½† NavLinkå¯ä»¥ç»™é“¾æ¥è‡ªåŠ¨æ·»åŠ ä¸€äº›å±æ€§
// Redirect ç»„ä»¶ è´Ÿè´£ é¡µé¢é‡å®šå‘ 
import { Route, Link, NavLink, Redirect } from &#39;react-router-dom&#39;

import {
  Home,
  Artical,
  Users
} from &#39;./views&#39;

export default class App extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;Link to=&quot;/home&quot;&gt;é¦–é¡µ&lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;Link to=&quot;/artical&quot;&gt;æ–‡ç« &lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;NavLink to=&quot;/users&quot;&gt;ç”¨æˆ·&lt;/NavLink&gt;&lt;/li&gt;
        &lt;/ul&gt;

        é¡µé¢é‡å®šå‘
        &lt;Redirect to=&quot;/home&quot; from=&quot;/&quot;&gt;&lt;/Redirect&gt;
        &lt;Route component={Home} path=&quot;/home&quot; /&gt;
        &lt;Route component={Artical} path=&quot;/artical&quot; /&gt;
        &lt;Route component={Users} path=&quot;/users&quot; /&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre>
<h3 id="åŠ¨æ€è·¯ç”±"><a href="#åŠ¨æ€è·¯ç”±" class="headerlink" title="åŠ¨æ€è·¯ç”±"></a>åŠ¨æ€è·¯ç”±</h3><ul>
<li>ç‚¹å‡»é“¾æ¥åï¼Œé“¾æ¥ä¸æ¶ˆå¤±ï¼Œåœ¨é“¾æ¥çš„é¡µé¢ä¸Šæ”¾ç½® <router></router></li>
</ul>
<p>artical.js</p>
<pre><code class="js">import React, { Component } from &#39;react&#39;
import {
  Link,
  Route
} from &#39;react-router-dom&#39;
import ArticalDetail from &#39;./ArticalDetail&#39;

export default class Artical extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;Link to=&quot;/artical/1&quot;&gt;æ–‡ç« ä¸€&lt;/Link&gt;
        &lt;Link to=&quot;/artical/2&quot;&gt;æ–‡ç« äºŒ&lt;/Link&gt;
        è¿™é‡Œè®¾ç½® path=&quot;/artical/:id&quot;
        &lt;Route component={ArticalDetail} path=&quot;/artical/:id&quot; /&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre>
<p>ç»„ä»¶ä¸­ è·å–å‚æ•°çš„æ–¹æ³•</p>
<pre><code class="js">{this.props.match.params.id}
</code></pre>
<ul>
<li>ç‚¹å‡»é“¾æ¥åé“¾æ¥æ¶ˆå¤±,å³å°† <router> æ”¾ç½®å€¼ä¸è¿æ¥é¡µé¢åŒçº§çš„é¡µé¢</router></li>
</ul>
<p>App.js</p>
<pre><code class="js">import React, { Component } from &#39;react&#39;
import { Route, Link, NavLink, Redirect } from &#39;react-router-dom&#39;

import {
  Home,
  Artical,
  Users,
  ArticalDetail
} from &#39;./views&#39;

export default class App extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;Link to=&quot;/home&quot;&gt;é¦–é¡µ&lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;Link to=&quot;/artical&quot;&gt;æ–‡ç« &lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;NavLink to=&quot;/users&quot;&gt;ç”¨æˆ·&lt;/NavLink&gt;&lt;/li&gt;
        &lt;/ul&gt;

        &lt;Redirect to=&quot;/home&quot;&gt;&lt;/Redirect&gt;
        &lt;Route component={Home} path=&quot;/home&quot; /&gt;
        æ³¨æ„è¦åŠ ä¸Š exactï¼ˆå®Œå…¨åŒ¹é…ï¼‰
        &lt;Route component={Artical} path=&quot;/artical&quot; exact/&gt;

        &lt;Route component={ArticalDetail} path=&quot;/artical/:id&quot; /&gt;
        &lt;Route component={Users} path=&quot;/users&quot; /&gt;

      &lt;/div&gt;
    )
  }
}
</code></pre>
<h3 id="å¤„ç†-404"><a href="#å¤„ç†-404" class="headerlink" title="å¤„ç† 404"></a>å¤„ç† 404</h3><pre><code class="js">import React, { Component } from &#39;react&#39;
import { Route, Link, NavLink, Redirect, Switch } from &#39;react-router-dom&#39;

import {
  Home,
  Artical,
  Users,
  ArticalDetail,
  NotFound
} from &#39;./views&#39;

export default class App extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;Link to=&quot;/home&quot;&gt;é¦–é¡µ&lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;Link to=&quot;/artical&quot;&gt;æ–‡ç« &lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;NavLink to=&quot;/users&quot;&gt;ç”¨æˆ·&lt;/NavLink&gt;&lt;/li&gt;
        &lt;/ul&gt;
        æ³¨æ„ éœ€è¦ä½¿ç”¨ Switch åŒ…è£¹ï¼Œä¸ç„¶ç¬¦åˆæ¡ä»¶çš„éƒ½å›å»æ¸²æŸ“
        &lt;Switch&gt;
          &lt;Route component={Home} path=&quot;/home&quot; /&gt;
          &lt;Route component={Artical} path=&quot;/artical&quot; exact/&gt;
          &lt;Route component={ArticalDetail} path=&quot;/artical/:id&quot; /&gt;
          &lt;Route component={Users} path=&quot;/users&quot; /&gt;
          &lt;Route component={NotFound} path=&quot;/404&quot; /&gt;
          &lt;Redirect to=&quot;/home&quot; from=&quot;/&quot; exact /&gt;
          &lt;Redirect to=&quot;/404&quot; /&gt;
        &lt;/Switch&gt;

      &lt;/div&gt;
    )
  }
}

</code></pre>
<h2 id="è·¯ç”±å…¶ä»–API"><a href="#è·¯ç”±å…¶ä»–API" class="headerlink" title="è·¯ç”±å…¶ä»–API"></a>è·¯ç”±å…¶ä»–API</h2><h3 id="ä½¿ç”¨-render-function-ä¿©ä»£æ›¿-component"><a href="#ä½¿ç”¨-render-function-ä¿©ä»£æ›¿-component" class="headerlink" title="ä½¿ç”¨ render(function) ä¿©ä»£æ›¿ component={}"></a>ä½¿ç”¨ render(function) ä¿©ä»£æ›¿ component={}</h3><p>ä¼˜ç‚¹ï¼Œå¯ä»¥ä¼ é€’å‚æ•°</p>
<pre><code class="js">  &lt;Router&gt;
    ä½¿ç”¨renderä½¿ï¼Œé‡Œé¢è¦æ˜¯ä¸ªå‡½æ•°ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå‚æ•°ä¸º è·¯ç”±ä¿¡æ¯ ä½¿ç”¨{...props}å‘ä¸‹åˆå¹¶ä¼ é€’
    &lt;Route render={(props)=&gt;&lt;App {...props} x={1}/&gt;} path=&quot;/&quot; /&gt;
  &lt;/Router&gt;,
</code></pre>
<h3 id="éšå¼ä¼ å‚ä»£æ›¿urlä¼ å‚"><a href="#éšå¼ä¼ å‚ä»£æ›¿urlä¼ å‚" class="headerlink" title="éšå¼ä¼ å‚ä»£æ›¿urlä¼ å‚"></a>éšå¼ä¼ å‚ä»£æ›¿urlä¼ å‚</h3><p>å¯ä»¥ç”¨æ¥åŸ‹ç‚¹åˆ†äº«</p>
<pre><code class="js">&lt;Link to={{
  pathname: 'artical/2',
  state: {
    form: 'artical'
  }
}}&gt;æ–‡ç« äºŒ&lt;/Link&gt;
</code></pre>
<ul>
<li>åŸ‹ç‚¹<br>å‘é€æ•°æ®æ–¹æ³•</li>
<li>ajax</li>
<li>img: å…¼å®¹æ€§æœ€å¥½<pre><code class="js">  const img = new Image()
  img.src = &quot;http://...../button-01.gif?x=16....&quot;
</code></pre>
</li>
<li>sendBeacon å…¼å®¹æ€§ä¸å¥½ï¼ŒæˆåŠŸç‡æœ€é«˜</li>
</ul>
<h3 id="ç¼–ç¨‹å¼å¯¼èˆª"><a href="#ç¼–ç¨‹å¼å¯¼èˆª" class="headerlink" title="ç¼–ç¨‹å¼å¯¼èˆª"></a>ç¼–ç¨‹å¼å¯¼èˆª</h3><ul>
<li><p>history.push(â€˜â€¦â€™)</p>
<pre><code class="js">export default class ArticalDetail extends Component {
goHome = () =&gt; {
  this.props.history.push(&#39;/&#39;)
}
render() {
  console.log(this.props)
  return (
    &lt;div&gt;
      æ–‡ç« è¯¦æƒ…
      {this.props.match.params.id}
      &lt;button onClick={this.goHome}&gt;è¿”å›é¦–é¡µ&lt;/button&gt;
    &lt;/div&gt;
  )
}
}
</code></pre>
</li>
<li><p>this.props.history.push({å¯¹è±¡})</p>
<pre><code class="js">goHome = () =&gt; {
this.props.history.push({
  pathname: &#39;/&#39;,
  state: {
    x: 1
  }
})
}
render() {
console.log(this.props)
return (
  &lt;div&gt;
    æ–‡ç« è¯¦æƒ…
    {this.props.match.params.id}
    &lt;button onClick={this.goHome}&gt;è¿”å›é¦–é¡µ&lt;/button&gt;
  &lt;/div&gt;
)
}
</code></pre>
</li>
</ul>
<h3 id="withRouter-é«˜é˜¶ç»„ä»¶"><a href="#withRouter-é«˜é˜¶ç»„ä»¶" class="headerlink" title="withRouter é«˜é˜¶ç»„ä»¶"></a>withRouter é«˜é˜¶ç»„ä»¶</h3><p>è‹¥æƒ³è¦ç‚¹å‡»ä¸€ä¸ªç»„ä»¶ï¼Œè§¦å‘ç»„ä»¶å†…çš„äº‹ä»¶å¹¶ä½¿ç”¨å½“å‰çš„å‚æ•°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ withRouter é«˜é˜¶ç»„ä»¶åŒ…è£¹ ç»„ä»¶</p>
<pre><code class="js">export default withRouter(BackHome)
</code></pre>
<h2 id="Antd-èš‚èšè®¾è®¡-UIåº“"><a href="#Antd-èš‚èšè®¾è®¡-UIåº“" class="headerlink" title="Antd èš‚èšè®¾è®¡ UIåº“"></a>Antd èš‚èšè®¾è®¡ UIåº“</h2><blockquote>
<p>npm i antd -s</p>
</blockquote>
<h3 id="é…ç½®-Antd"><a href="#é…ç½®-Antd" class="headerlink" title="é…ç½® Antd"></a>é…ç½® Antd</h3><p><a href="https://ant.design/docs/react/use-with-create-react-app-cn" target="_blank" rel="noopener">create-react-appé…ç½®</a></p>
<blockquote>
<p>npm i react-app-rewired customize-cra -D</p>
</blockquote>
<p>ç„¶åä¿®æ”¹ page.json</p>
<p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª config-overrides.js ç”¨äºä¿®æ”¹é»˜è®¤é…ç½®ã€‚</p>
<blockquote>
<p>npm i babel-plugin-import -D<br>ä½¿ç”¨ babel-plugin-importåä¿®æ”¹ config-overrides.js</p>
</blockquote>
<p>ä½¿ç”¨Antdè‡ªå®šä¹‰ä¸»é¢˜éœ€è¦å…ˆå®‰è£… less less-loader å› ä¸º Antd æ ·å¼æ–‡ä»¶ä½¿ç”¨lesså¼€å‘</p>
<blockquote>
<p>npm i less less-loader -s</p>
</blockquote>
<pre><code class="js">const { override, fixBabelImports, addDecoratorsLegacy, addLessLoader } = require(&quot;customize-cra&quot;);

module.exports = override(
  fixBabelImports(&quot;import&quot;, { //antdæŒ‰éœ€åŠ è½½ 
    libraryName: &quot;antd&quot;,
    libraryDirectory: &quot;es&quot;,
    style: &quot;css&quot;,
    style: true
  }),
  addDecoratorsLegacy(),   // é…ç½®è£…é¥°å™¨
  addLessLoader({   // Antd è‡ªå®šä¹‰ä¸»é¢˜è®¾ç½®
    javascriptEnabled: true,
    modifyVars: { &#39;@primary-color&#39;: &#39;#1DA57A&#39; },
  }),
);

</code></pre>

        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">èµ
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/custom/donate/AliPayQR.jpg"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/custom/donate/WeChanQR.jpg"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2020/03/28/umi/" rel="prev">
              <div class="background">
                <img class="lazyload" src="http://blogpic.hjiya.cn/orange.progress-bar-stripe-loader.svg" data-src="http://blogpic.hjiya.cn/07umi5.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="http://blogpic.hjiya.cn/07umi5.jpg">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                UmiJs</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2020/03/21/interview1/" rel="next">
              <div class="background">
                <img class="lazyload" src="http://blogpic.hjiya.cn/orange.progress-bar-stripe-loader.svg" data-src="" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                é¢è¯•é¢˜æ€è€ƒæ±‡æ€»ï¼ˆNodeç¯‡ï¼‰</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "f6vhjKWXELjVUi3uwwvtSSGp-gzGzoHsz",
        appKey: "L73UnjoOqFSxdieIWQjqxycw",
        path: window.location.pathname,
        placeholder: "ä½ æ˜¯æˆ‘ä¸€ç”Ÿåªä¼šé‡è§ä¸€æ¬¡çš„æƒŠå–œ ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="" class="profile gravatar"><img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master/img/custom/avatar.jpg" itemprop="image" alt="æ˜æ˜å°± ğŸŒ¸" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="" itemprop="url" rel="author">æ˜æ˜å°± ğŸŒ¸</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>è¯åºŸæœ‰ç¤¾æï¼Œä½†æˆ‘çœŸçš„...</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="è¯·è¾“å…¥å…³é”®è¯..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            // PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 ERYORE<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
    </div>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
    <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>

    <p style="font-family: 'Ubuntu', sans-serif;">
      <span style="color: #b9b9b9;">æ—¥æœˆç›ˆæ˜ƒï¼Œè¾°å®¿åˆ—å¼ ï¼Œå¯’æ¥æš‘å¾€ï¼Œç§‹æ”¶å†¬è—ã€‚</span>
    </p>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
    <p>Copyright &copy 2020</p>

  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- ä¸è’œå­ ç½‘é¡µè®¡æ•°å™¨ -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "http://blogpic.hjiya.cn/","name":"a6400%26m2.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "http://blogpic.hjiya.cn/","name":"a6400%26m2.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //æœ‰å›¾çš„æƒ…å†µ
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // æ”¾ç½®ç›®å½•çš„å®¹å™¨
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // æ­£æ–‡å†…å®¹æ‰€åœ¨
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // éœ€è¦ç´¢å¼•çš„æ ‡é¢˜çº§åˆ«
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // æ”¾ç½®ç›®å½•çš„å®¹å™¨
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // æ­£æ–‡å†…å®¹æ‰€åœ¨
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // éœ€è¦ç´¢å¼•çš„æ ‡é¢˜çº§åˆ«
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/happyiu/cdn@master//img/custom/avatar.jpg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">çŒ«ã«ãªã‚ŠãŸã„ã®æ˜æ˜å°±</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="https://github.com/happyiu" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
        <a href="https://wpa.qq.com/msgrd?v=3&uin=910785329&site=qq&menu=yes" class="fa fa-qq" target="_blank" style="color: #25c6fe; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            é¦–é¡µ
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            å½’æ¡£
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/æŠ€æœ¯/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  æŠ€æœ¯
                </a>
              </li>
            
              <li>
                <a href="/categories/ç”Ÿæ´»/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  ç”Ÿæ´»
                </a>
              </li>
            
              <li>
                <a href="/categories/èµ„æº/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  èµ„æº
                </a>
              </li>
            
              <li>
                <a href="/categories/éšæƒ³/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  éšæƒ³
                </a>
              </li>
            
              <li>
                <a href="/categories/è½¬è½½/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  è½¬è½½
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            æ ‡ç­¾
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/tags/æ‚¦è¯»/">
                  <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                  æ–‡ç« 
                </a>
              </li>
            
              <li>
                <a href="/bangumi/">
                  <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                  ç•ªç»„
                </a>
              </li>
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  æ­Œå•
                </a>
              </li>
            
              <li>
                <a href="/tags/å›¾é›†/">
                  <i class="fa fa-photo" aria-hidden="true"></i>
                  å›¾é›†
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            ç•™è¨€æ¿
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/links/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            å‹äººå¸
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/donate/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
            èµèµ
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/about/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-meetup" aria-hidden="true"></i>
            æˆ‘ï¼Ÿ
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="399099360"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>
</html>